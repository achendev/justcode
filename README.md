# ğŸš€ Just Code

Just Code is a rapid development tool that bridges the gap between your local development environment and a Large Language Model (LLM) chat interface. It allows you to:

<p align="center">
  <img src="justcode.png" alt="JustCode Logo" width="350">
</p>

1.  **Send your entire project's context** to an LLM with a single click.
2.  **Deploy code generated by the LLM** back to your local files with another single click.
3.  **Instantly rollback** any changes that doesn't work as expected.

This creates a tight, safe, and incredibly fast feedback loop for iterating on code with AI assistance.

## âš™ï¸ How It Works

The system consists of two main components:

*   **ğŸ–¥ï¸ A Local Flask Server (`app.py`):** This server runs on your machine and acts as the bridge to your filesystem.
    *   `/getcontext`: Scans a specified project directory, bundles all relevant source files into a single text block, and formats it as a prompt for the LLM.
    *   `/deploycode`: Receives a shell script from the browser, creates a rollback script, performs a security validation, and executes it to update your local files.
    *   `/rollback`: Executes the last generated rollback script, undoing the previous deployment for a specific project.

*   **ğŸ§© Chrome Extension (`chrome_extension/`):** A user-friendly popup interface.
    *   **Popup Interface:** Contains an input for the project path and three main buttons: "Get Context," "Deploy Code," and "Rollback."
    *   **Shortcuts:** 
        *   `Alt + O`: Open the extension popup.
        *   When the popup is open:
            *   `Alt + â†`: Trigger "Get Context" for the active profile.
            *   `Alt + â†’`: Trigger "Deploy Code" for the active profile.
            *   `Alt + R`: Trigger "Rollback" for the active profile.
            *   `Alt + A`: Switch to the profile tab on the left (loops around).
            *   `Alt + S`: Switch to the profile tab on the right (loops around).
    
    > **Note on Shortcuts:** If the `Alt + O` shortcut to open the extension doesn't work, you may need to set or reset it. Go to `chrome://extensions/shortcuts` in your browser, find the "JustCode Extension", and assign your preferred shortcut for the "Open JustCode Popup" action.

## â†©ï¸ Automatic Rollback

Never fear a bad deployment again. Just Code includes a powerful safety net:

*   **Automatic Backup:** Before any `deploy` operation is executed, the system automatically generates a "rollback script". This script captures the current state of any files or directories that are about to be modified, created, or deleted.
*   **Instant Recovery:** If a deployment produces an undesirable result (e.g., AI made the mistake in the implementation), simply click the **Rollback** button in the extension's profile.

This feature allows you to experiment and iterate with AI-generated code fearlessly, knowing you can undo any changes with a single click.

## âœ… Prerequisites

*   ğŸ Python 3.10 or higher
*   ğŸ“¦ `pip` and `venv` (usually included with Python)
*   ğŸ™ Git for cloning the repository
*   ğŸŒ Google Chrome or a Chromium-based browser that supports loading unpacked extensions.

## ğŸ› ï¸ Setup

The setup process involves three main stages: cloning the code, setting up the local server, and installing the browser extension.

### Stage 1: Clone the Repository

Open your terminal or command prompt and run the following command:

    git clone https://github.com/achendev/justcode.git
    cd justcode

### Stage 2: Set Up and Run the Local Server

Follow the instructions for your operating system to set up the Python environment and run the server.

#### ğŸ macOS & ğŸ§ Linux (Ubuntu, AlmaLinux, etc.)

1.  **Create and Activate Virtual Environment**
    In the `justcode` directory, run:
    ```bash
    # Create a Python virtual environment
    python3 -m venv venv

    # Activate the environment
    source venv/bin/activate
    ```

2.  **Install Dependencies**
    With the environment active, install the required packages:
    ```bash
    pip install -r requirements.txt
    ```

3.  **Run the Server**
    You can run the server directly with `python app.py`, or use the provided helper script:
    ```bash
    # Run the server
    ./app.sh
    ```
    Keep this terminal window open. You should see a message confirming the server is running on `http://127.0.0.1:5010`.


#### ğŸªŸ Windows

1.  **Create and Activate Virtual Environment**
    In the `justcode` directory, open **PowerShell** (recommended) or **Command Prompt (`cmd`)**.

    ```powershell
    # Create a Python virtual environment
    # You may need to use 'py', 'python.exe' or 'python3.exe' if 'python' is not in your PATH
    python -m venv venv

    # Activate the environment in PowerShell
    .\venv\Scripts\Activate.ps1
    ```
    > **Note for PowerShell:** If you get an error about script execution being disabled, run `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process` and try activating again.

    > If using the classic **Command Prompt (`cmd.exe`)**, activate with this command instead of:
    > `venv\Scripts\activate.bat`

2.  **Install Dependencies**
    Once the environment is active (your prompt will be prefixed with `(venv)`), run:
    ```bash
    pip install -r requirements.txt
    ```

3.  **Run the Server**
    You can run the server directly with `python app.py`. Alternatively, you can run the provided batch script from your terminal or by double-clicking it in the file explorer.
    ```batch
    .\app.bat
    ```
    Keep this terminal window open. You should see a message confirming the server is running on `http://127.0.0.1:5010`.

### Stage 3: Load and Configure the Chrome Extension

These steps are the same for all operating systems.

1.  **Load the Extension:**
    *   Open Chrome and navigate to `chrome://extensions/`.
    *   Enable **Developer mode** using the toggle switch (usually in the top-right corner).
    *   Click the **Load unpacked** button.
    *   In the file dialog, select the `chrome_extension` folder located inside your `justcode` project directory.

2.  **Pin the Extension for Easy Access:**
    *   After loading, click the puzzle piece icon ğŸ§© in the Chrome toolbar to see your list of extensions.
    *   Find the **JustCode Extension** and click the **pin** icon next to it.
    *   This will keep the JustCode icon visible in your toolbar for one-click access.

5.  **Grant Clipboard Permission**

    Just Code requires permission to read from and write to your clipboard. This must be enabled manually in the extension's settings.

    **How to enable:**
    *   In Chrome, go to **Settings**.
    *   Navigate to **Extensions** on the left menu.
    *   Find the **JustCode Extension** and click on the **Details** button.
    *   On the details page, click on **Site settings**.
    *   Find **Clipboard** in the permissions list and change its value to **Allow**.

    *This is a critical one-time setup step to allow the extension to read the code provided by the LLM.*

## ğŸ”„ Usage Workflow

1.  **Start the Server:** Ensure the local Flask server is running.
2.  **Open Popup:** Click the JustCode extension icon in your browser toolbar or press `Alt+O`.
3.  **Set Path:** Enter the absolute path to your project.
4.  **Go to LLM:** Navigate to your preferred LLM chat interface.
5.  **Get Context:** Click the `Get Context` button or press `Alt+â†`. Your project context will be loaded into the prompt area.
6.  **Prompt LLM:** Add your instructions and submit.
7.  **Get Response:** The LLM will respond with a bash script.
8.  **Deploy Code:** Click the `Deploy Code` button or press `Alt+â†’`.
9.  **Verify:** Your local files are now updated.

> **ğŸ’¡ Pro Tip: What if a deployment goes wrong?**
> If a deployment fails or makes unwanted changes, just click the **Rollback** button for that profile. It will instantly restore your files to the state they were in before you clicked "Deploy Code".

## âš ï¸ Security Warning

This tool executes code generated by an LLM directly on your machine. This is **not foolproof**.

*   **ALWAYS review the `bash` script** before clicking "Deploy Code". Malicious commands can delete files.
*   **A rollback script is created automatically**, giving you a way to recover from mistakes, but it's not a substitute for careful review.
*   This tool is intended for **personal development and rapid prototyping**.
*   **Use at your own risk.**

## ğŸ“‚ Project Structure

    justcode/
    â”œâ”€â”€ app.py              # Main Flask application runner
    â”œâ”€â”€ server/             # Backend server logic
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ deploy_code_endpoint.py # Handles /deploycode endpoint
    â”‚   â”œâ”€â”€ get_context_endpoint.py # Handles /getcontext endpoint
    â”‚   â”œâ”€â”€ rollback_endpoint.py    # Handles /rollback endpoint
    â”‚   â””â”€â”€ tools.py            # Common utility functions for the server
    â”œâ”€â”€ app.sh              # Helper script to run server on macOS/Linux
    â”œâ”€â”€ app.bat             # Helper script to run server on Windows
    â”œâ”€â”€ chrome_extension/
    â”‚   â”œâ”€â”€ icons/          # Extension icons (16, 48, 128)
    â”‚   â”œâ”€â”€ js/             # JavaScript modules
    â”‚   â”‚   â”œâ”€â”€ deploy_code.js  # Logic for deploying code
    â”‚   â”‚   â”œâ”€â”€ get_context.js  # Logic for getting project context
    â”‚   â”‚   â”œâ”€â”€ rollback.js     # Logic for reverting a deployment
    â”‚   â”‚   â”œâ”€â”€ storage.js      # Manages user profiles in storage
    â”‚   â”‚   â””â”€â”€ ui.js           # Renders the popup UI
    â”‚   â”œâ”€â”€ manifest.json   # Extension configuration
    â”‚   â”œâ”€â”€ popup.html      # Extension popup UI
    â”‚   â””â”€â”€ popup.js        # Main entry point for the popup
    â”œâ”€â”€ .gitignore          # Standard git ignore file
    â”œâ”€â”€ justcode.png        # Project logo
    â”œâ”€â”€ requirements.txt    # Python dependencies
    â””â”€â”€ README.md           # This file